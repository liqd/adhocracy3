<div class="resource-navigation">
    <div class="resource-navigation-breadcrumbs">
        <adh-go-to-came-from data-default="path | adhResourceUrl"></adh-go-to-came-from>
    </div>
</div>

<form
    name="userEditForm"
    class="l-padding"
    novalidate="novalidate"
    data-ng-submit="submit()">

    <div class="form-error" data-ng-repeat="error in errors track by $index">
        <p>{{ error | adhFormatError | translate }}</p>
    </div>

    <label>
        <span class="label-text">{{ "TR__USERNAME" | translate }}</span>
        <input
            type="text"
            name="name"
            required="required"
            data-ng-model="data.name" />
        <span class="input-error" data-ng-show="showError(userEditForm, userEditForm.name, 'required')">
            {{ "TR__ERROR_REQUIRED" | translate }}
        </span>
    </label>
    <label>
        <span class="label-text">{{ "TR__EMAIL" | translate }}</span>
        <input
            type="email"
            name="email"
            data-ng-model="data.email" />
    </label>
    <label>
        <span class="label-text">{{ "TR__PASSWORD_NEW" | translate }}</span>
        <input
            type="password"
            name="password"
            data-ng-model="data.password"
            data-ng-minlength="6"
            data-ng-maxlength="100" />
        <span class="input-error" data-ng-show="showError(userEditForm, userEditForm.password, 'minlength')">
            {{ "TR__ERROR_TOO_SHORT_PASSWORD" | translate }}
        </span>
    </label>
    <label>
        <span class="label-text">{{ "TR__PASSWORD_REPEAT" | translate }}</span>
        <input
            type="password"
            name="password_repeat"
            data-ng-model="data.passwordRepeat" />
        <span class="input-error" data-ng-show="showError(userEditForm, userEditForm.password_repeat, 'repeat')">
            {{ "TR__ERROR_MATCH_PASSWORD" | translate }}
        </span>
    </label>
    <label>
        <span class="label-text">{{ "TR__PASSWORD" | translate }}</span>
        <input
            type="password"
            name="password_old"
            data-ng-required="data.password || data.email"
            data-ng-model="data.passwordOld" />
        <span class="input-error" data-ng-show="showError(userEditForm, userEditForm.password_old, 'required')">
            {{ "TR__ERROR_REQUIRED_PASSWORD" | translate }}
        </span>
    </label>
    <label data-ng-if="config.anonymize_enabled">
        <input
            type="checkbox"
            data-ng-model="data.anonymize" />
        <span class="label-text">{{ "TR__ANONYMIZE_DEFAULT" | translate }}</span>
    </label>

    <footer class="form-footer">
        <div class="form-footer-right">
            <input
                type="submit"
                name="submit"
                value="{{ 'TR__SAVE' | translate }}"
                class="button-cta form-footer-button-cta" />
        </div>
        <div class="form-footer-left">
            <a
                href=""
                data-ng-click="cancel()"
                class="button form-footer-button">{{ "TR__CANCEL" | translate }}</a>
        </div>
    </footer>
</form>
