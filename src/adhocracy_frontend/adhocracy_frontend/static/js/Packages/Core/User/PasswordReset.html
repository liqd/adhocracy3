<div class="login">
    <h1 class="login-title standalone-wrapper-title">{{ "TR__PASSWORD_RESET_TITLE" | translate }}</h1>

    <form
        data-ng-if="!success"
        novalidate="novalidate"
        class="login-form"
        name="passwordResetForm"
        data-ng-submit="passwordReset()">
        <div class="form-error" data-ng-repeat="error in errors track by $index">
            <p>{{ error | translate }}</p>
        </div>

        <label>
            <span class="label-text">{{ "TR__NEW_PASSWORD" | translate }}</span>
            <input
                type="password"
                name="newPassword"
                required="required"
                data-ng-model="input.password"
                data-ng-minlength="6" />
            <span class="input-error" data-ng-show="showError(passwordResetForm, passwordResetForm.newPassword, 'required')">
                {{ "TR__ERROR_REQUIRED_NEW_PASSWORD" | translate }}
            </span>
            <span class="input-error" data-ng-show="showError(passwordResetForm, passwordResetForm.newPassword, 'minlength')">
                {{ "TR__ERROR_TOO_SHORT_PASSWORD" | translate }}
            </span>
        </label>

         <label>
            <span class="label-text">{{ "TR__PASSWORD_REPEAT" | translate }}</span>
            <input
                type="password"
                name="password_repeat"
                data-ng-model="input.passwordRepeat"
                required="required"
                data-ng-class="{'ng-invalid': (input.password !== input.passwordRepeat) && passwordResetForm.password_repeat.$dirty}"/>
            <span class="input-error" data-ng-show="(input.password !== input.passwordRepeat) && passwordResetForm.password_repeat.$dirty">
                {{ "TR__ERROR_MATCH_PASSWORD" | translate }}
            </span>
        </label>
        <input
            type="submit"
            value="{{ 'TR__SAVE' | translate }}"
            class="button-cta"
            data-ng-disabled="passwordResetForm.$invalid" />
    </form>

    <div data-ng-if="success && embedOnly" class="login-success">
        <p>{{ "TR__PASSWORD_RESET_CLOSE_THIS_TAB_AND_PROCEED" | translate:{siteName: siteName} }}</p>
    </div>

    <div data-ng-if="success && !embedOnly" class="login-success">
        <p data-adh-html-translate="TR__CREATE_PASSWORD_RESET_PROCEED" data-translate-values="{siteName: siteName}" data-translate-templates="{
            link: '&lt;a href=&quot;&quot; data-ng-click=&quot;goBack()&quot;&gt;{{ content }}&lt;/a&gt;'
        }"></p>
    </div>
</div>
