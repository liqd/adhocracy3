<div class="register">
    <form novalidate="novalidate" class="register-form" name="registerForm" data-ng-submit="register()">
        <div class="form-error" ng-repeat="error in errors track by $index">
            <p>{{ error | translate }}</p>
        </div>
        <input
            type="text"
            name="username"
            placeholder="{{ 'TR__USERNAME' | translate }}"
            data-ng-model="input.username"
            required="required" />
        <span class="input-error" data-ng-show="registerForm.username.$error.required && registerForm.username.$dirty">
            {{ "TR__ERROR_REQUIRED_USERNAME" | translate }}
        </span>
        <input
            type="email"
            name="email"
            placeholder="{{ 'TR__EMAIL' | translate }}"
            data-ng-model="input.email"
            required="required" />
        <span class="input-error" data-ng-show="registerForm.email.$error.required && registerForm.email.$dirty">
            {{ "TR__ERROR_REQUIRED_EMAIL" | translate }}
        </span>
        <span class="input-error" data-ng-show="registerForm.email.$error.email && registerForm.email.$dirty">
            {{ "TR__ERROR_FORMAT_EMAIL" | translate }}
        </span>
        <input
            type="password"
            name="password"
            placeholder="{{ 'TR__PASSWORD' | translate }}"
            data-ng-model="input.password"
            required="required"
            data-ng-minlength="6"
            data-ng-maxlength="100" />
        <span class="input-error" data-ng-show="registerForm.password.$error.required && registerForm.password.$dirty">
            {{ "TR__ERROR_REQUIRED_PASSWORD" | translate }}
        </span>
        <span class="input-error" data-ng-show="registerForm.password.$error.minlength && registerForm.password.$dirty">
            {{ "TR__ERROR_TOO_SHORT_PASSWORD" | translate }}
        </span>
        <input
            type="password"
            name="password_repeat"
            placeholder="{{ 'TR__PASSWORD_REPEAT' | translate }}"
            data-ng-model="input.passwordRepeat"
            required="required"
            data-ng-class="{'ng-invalid': (input.password !== input.passwordRepeat)}"/>
        <span class="input-error" data-ng-show="(!registerForm.password.$error.minlength) && (input.password !== input.passwordRepeat) && registerForm.password_repeat.$dirty">
            {{ "TR__ERROR_MATCH_PASSWORD" | translate }}
        </span>
        <div class="register-check">
            <input type="checkbox" name="registerCheck" data-ng-model="input.registerCheck" required="required">
            {{ "TR__I_ACCEPT_TERMS_AND_CONDITIONS" | translate }}
        </div>
        <span class="input-error" data-ng-show="registerForm.registerCheck.$error.required && (registerForm.registerCheck.$dirty || registerForm.$submitted)">
            {{ "TR__ERROR_REQUIRED_TERMS_AND_CONDITIONS" | translate }}
        </span>
        <input
            type="submit"
            name="register"
            value="{{ 'TR__REGISTER' | translate }}"
            class="m-call-to-action"
            data-ng-disabled="registerForm.$invalid || input.password !== input.passwordRepeat" />
        <div data-ng-if="!success" class="register-info">
            <p>{{ "TR__REGISTRATION_LOGIN_INSTEAD" | translate }}
            <a href="/login">{{ "TR__LINK_HERE" | translate }}</a></p>
        </div>
        <a class="register-cancel" href="" ng-click="cancel()">{{ "TR__CANCEL" | translate }}</a>
        <div class="register-support">
            {{ "TR__REGISTRATION_SUPPORT" | translate }} <br />
            <a href="mailto:{{supportEmail}}?subject=Trouble%20with%20registration">{{ supportEmail }}</a>
        </div>
    </form>

    <div data-ng-if="success" class="register-success">
        <p>{{ "TR__REGISTER_SUCCESS" | translate }}</p>
        <p>{{ "TR__CALL_FOR_ACTIVATION" | translate:{siteName: siteName} }}</p>
    </div>
</div>
