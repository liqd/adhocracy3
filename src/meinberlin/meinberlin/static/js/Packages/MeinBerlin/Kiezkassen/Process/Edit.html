<form
    novalidate="novalidate"
    data-ng-submit="submit()"
    class="mein-berlin-edit-process-form"
    name="kiezkassenProcessForm">

    <h2>Edit Kiezkassen process</h2>

    <div class="form-error" data-ng-repeat="error in errors track by $index">
        <p>{{ error | adhFormatError | translate }}</p>
    </div>

    <!-- Title -->
    <label>
        <span class="label-text">{{ "TR__MEINBERLIN_TITLE" | translate }}</span>
        <input
            type="text"
            data-ng-model="data.title"
            name="title"
            minlength="3"
            maxlength="100"
            required="required" />
        <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.title, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_TITLE" | translate }}
        </span>
    </label>

    <!-- Workflow state -->
    <label>
        <span class="label-text">{{ "TR__WORKFLOW_STATE" | translate }}</span>
        <select ng-model="data.workflowState" ng-options="item for item in data.availableWorkflowStates">
            <option value="">{{ data.currentWorkflowState }} ({{ "TR__CURRENT_STATE" | translate }})</option>

        </select>
    </label>

    <!-- Workflowsteps -->
    <h4>Edit Announce Phase</h4>
    <label>
        <span class="label-text">Description</span>
        <input
            type="text"
            data-ng-model="data.announce_description"
            name="announce_description"
            minlength="3"
            maxlength="100"
            required="required" />
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.announce_description, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DESCRIPTION" | translate }}
            </span>
    </label>
    <label>
        <span class="label-text">start date</span>
        <input
            type="text"
            data-ng-model="data.announce_start_date"
            name="announce_start_date"
            data-ng-pattern="/([0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|(0|1|2)[1-9])$/"
            placeholder="yyyy-mm-dd"
            required="required"
            />
            <span
                class="input-error"
                data-ng-if="showError(kiezkassenProcessForm, kiezkassenProcessForm.announce_start_date,'pattern')">
                {{ "TR__ERROR_INVALID_DATE" | translate }}</span>
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.announce_start_date, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DATE" | translate }}
            </span>
    </label>


    <h4>Edit Draft Phase</h4>
    <label>
        <span class="label-text">Description</span>
        <input
            type="text"
            data-ng-model="data.draft_description"
            name="draft_description"
            minlength="3"
            maxlength="100"
            required="required"
            />
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.draft_description, 'required')">
                {{ "TR__MEINBERLIN_ERROR_REQUIRED_DESCRIPTION" | translate }}
            </span>
    </label>
    <label>
        <span class="label-text">start date</span>
        <input
            type="text"
            data-ng-model="data.draft_start_date"
            name="draft_start_date"
            data-ng-pattern="/([0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|(0|1|2)[1-9])$/"
            placeholder="yyyy-mm-dd"
            required="required"
            />
            <span
                class="input-error"
                data-ng-if="showError(kiezkassenProcessForm, kiezkassenProcessForm.draft_start_date,'pattern')">
                {{ "TR__ERROR_INVALID_DATE" | translate }}</span>
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.draft_start_date, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DATE" | translate }}
            </span>
    </label>


    <h4>Edit Participate Phase</h4>
    <label>
        <span class="label-text">Description</span>
        <input
            type="text"
            data-ng-model="data.participate_description"
            name="participate_description"
            minlength="3"
            maxlength="100"
            required="required"
            />
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.participate_description, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DESCRIPTION" | translate }}
            </span>
    </label>
    <label>
        <span class="label-text">start date</span>
        <input
            type="text"
            data-ng-model="data.participate_start_date"
            name="participate_start_date"
            data-ng-pattern="/([0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|(0|1|2)[1-9])$/"
            placeholder="yyyy-mm-dd"
            required="required"
            />
            <span
                class="input-error"
                data-ng-if="showError(kiezkassenProcessForm, kiezkassenProcessForm.participate_start_date,'pattern')">
                {{ "TR__ERROR_INVALID_DATE" | translate }}</span>
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.participate_start_date, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DATE" | translate }}
            </span>
    </label>

    <h4>Edit Frozen Phase</h4>
    <label>
        <span class="label-text">Description</span>
        <input
            type="text"
            data-ng-model="data.frozen_description"
            name="frozen_description"
            minlength="3"
            maxlength="100"
            required="required" />
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.frozen_description, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DESCRIPTION" | translate }}
            </span>
    </label>

    <label>
        <span class="label-text">start date</span>
        <input
            type="text"
            data-ng-model="data.frozen_start_date"
            name="frozen_start_date"
            data-ng-pattern="/([0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|(0|1|2)[1-9])$/"
            placeholder="yyyy-mm-dd"
            required="required" />
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.frozen_start_date, 'pattern')">
            {{ "TR__ERROR_INVALID_DATE" | translate }}
            </span>
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.frozen_start_date, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DATE" | translate }}
            </span>
    </label>

    <h4>Edit Result Phase</h4>
    <label>
        <span class="label-text">Results</span>
        <input
            type="text"
            data-ng-model="data.result_description"
            name="result_description"
            minlength="3"
            maxlength="100"
            required="required" />
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.result_description, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DESCRIPTION" | translate }}
            </span>
    </label>

    <label>
        <span class="label-text">start date</span>
        <input
            type="text"
            data-ng-model="data.result_start_date"
            name="result_start_date"
            data-ng-pattern="/([0-9]{4})-(1[0-2]|0[1-9])-(3[0-1]|(0|1|2)[1-9])$/"
            placeholder="yyyy-mm-dd"
            required="required" />
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.result_start_date, 'pattern')">
            {{ "TR__ERROR_INVALID_DATE" | translate }}
            </span>
            <span class="input-error" data-ng-show="showError(kiezkassenProcessForm, kiezkassenProcessForm.result_start_date, 'required')">
            {{ "TR__MEINBERLIN_ERROR_REQUIRED_DATE" | translate }}
            </span>
    </label>

    <!-- DATA SUBMIT -->
    <footer class="form-footer mein-berlin-kiezkassen-proposal-form-footer">
        <input
            type="submit"
            name="submit"
            value="{{ 'TR__PUBLISH' | translate }}"
            class="m-call-to-action form-footer-button-cta" />

        <a data-ng-show="create" href="{{ processUrl | adhResourceUrl }}" data-ng-click="cancel()" class="button form-footer-button">
        {{ "TR__CANCEL" | translate }}</a>
        <a data-ng-show="!create" href="{{ path | adhResourceUrl }}" data-ng-click="cancel()" class="button form-footer-button">
        {{ "TR__CANCEL" | translate }}</a>
    </footer>
</form>
